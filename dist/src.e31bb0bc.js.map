{"version":3,"sources":["utils/index.js","index.js"],"names":["createDomElement","tag","attributes","target","elementTag","document","createElement","Object","entries","forEach","attr","attrKey","attrValue","addToDom","element","querySelector","appendChild","module","exports","require","buttonSelector","loading","data","error","cartItems","buyCart","getElementById","addEventListener","e","console","log","toggleCart","drawCartCards","addToCart","itemId","cartItem","find","item","id","push","saveToLocalStorage","localStorage","setItem","JSON","stringify","getFromLocalStorage","i","window","length","key","parse","getItem","removeFromCart","filter","pop","getData","render","fetch","then","res","json","catch","spinner","className","drawCard","card","price","innerText","pic","src","image_link","brand","buyBtn","cartBtn","type","Array","from","content","drawCards","drawCartCard","el","removeBtn","renderError","innerHTML"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["const createDomElement = (tag, attributes, target) => {\r\n    const elementTag = document.createElement(tag);\r\n    Object.entries(attributes).forEach(attr => {\r\n      const [attrKey, attrValue] = attr;\r\n      elementTag[attrKey] = attrValue;\r\n    });  \r\n    return elementTag;\r\n  };\r\n\r\n  const addToDom = (target, element) =>{\r\n      if(target && element){        \r\n        if(typeof target === \"string\"){\r\n          document.querySelector(target).appendChild(element)\r\n        }\r\n        else{\r\n          target.appendChild(element)\r\n        }\r\n      }\r\n  }\r\n  module.exports = {\r\n    createDomElement,\r\n    addToDom\r\n  };","const {createDomElement, addToDom} = require(\"./utils\");\r\nlet buttonSelector = null\r\nlet loading = false;\r\nlet data = null;\r\nlet error = null;\r\nlet cartItems = [];\r\n\r\nconst buyCart = document.getElementById(\"cart\")\r\nbuyCart.addEventListener(\"click\", (e) =>{\r\n  console.log(\"Toggle Cart\")\r\n  toggleCart()\r\n})\r\n\r\nfunction toggleCart(){\r\n  drawCartCards()\r\n}\r\n\r\n// function toggleCart(){\r\n//   if (cart.style.display === \"none\") {\r\n//     buyCart.style.display = \"block\";\r\n//     if(cartItems.length !== 0){\r\n//       drawCartCards()\r\n//     }\r\n//     else{\r\n//       let card = document.createElement(\"div\");\r\n//       card.innerText = \"Cart Empty\"\r\n//       document.querySelector(\"#cart-items\").appendChild(card)\r\n//     }\r\n//   } else {\r\n//     document.querySelector(\"#cart-items\").innerHTML = null\r\n//   }\r\n// }\r\n\r\nfunction addToCart(itemId){\r\n  const cartItem = data.find(item => {\r\n    return item.id == itemId\r\n  })\r\n  cartItems.push(cartItem)\r\n  saveToLocalStorage(cartItems)\r\n}\r\n\r\nfunction saveToLocalStorage(cartItems){\r\n  localStorage.setItem(\"cartdata\", JSON.stringify(cartItems))\r\n}\r\n\r\nfunction getFromLocalStorage(){\r\n  for(i=0; i < window.localStorage.length; i++){\r\n    if(window.localStorage.key(i) === \"cartdata\"){\r\n      cartItems = JSON.parse(window.localStorage.getItem(\"cartdata\"))\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeFromCart(itemId){\r\n  const cartItem = data.filter(item => {\r\n    return item.id == itemId\r\n  })\r\n  cartItems.pop(cartItem)\r\n  drawCartCards()\r\n}\r\n\r\nfunction getData(){\r\n  loading = true\r\n  render()\r\n  fetch('http://makeup-api.herokuapp.com/api/v1/products.json?product_type=nail_polish')\r\n  .then(res => res.json())\r\n  .then(json => {\r\n    loading = false\r\n    data = json\r\n    render()\r\n  })\r\n  .catch(e =>{\r\n    loading = false\r\n    error = \"Error!\"\r\n    render()\r\n  })\r\n}\r\n\r\nfunction spinner(){\r\n  let spinner = document.createElement(\"div\");\r\n  spinner.className = \"loader\"\r\n  document.querySelector(\"#app\").appendChild(spinner)\r\n}\r\n\r\nfunction drawCard (element, i){\r\n  let card = document.createElement(\"div\");\r\n  const price = createDomElement(\"h4\", {innerText: element.price})\r\n  const pic = createDomElement(\"img\", {src: element.image_link})\r\n  const brand = createDomElement(\"h3\", {innerText:element.brand})\r\n  let buyBtn = document.createElement(\"button\")\r\n  let cartBtn = document.createElement(\"button\")\r\n  card.className = \"card\"\r\n  card.id = element.id\r\n  buyBtn.innerText = \"Buy Now\"\r\n  buyBtn.type = \"submit\"\r\n  buyBtn.addEventListener(\"click\", () =>{\r\n    console.log(\"I will buy now\", element.id)\r\n  })\r\n  cartBtn.innerText = \"Add to Cart\"\r\n  cartBtn.type = \"submit\"\r\n  cartBtn.addEventListener(\"click\", () =>{  \r\n    addToCart(element.id)\r\n  })\r\n  \r\n  addToDom(\"#app\", card)\r\n  Array.from([pic, price, brand, buyBtn, cartBtn]).forEach(content =>{\r\n  addToDom(card, content)\r\n  })\r\n  // addToDom(card, pic)\r\n  // card.appendChild(price)\r\n  // card.appendChild(brand)\r\n  // card.appendChild(buyBtn)\r\n  // card.appendChild(cartBtn)\r\n}\r\n\r\n\r\nfunction drawCards(){\r\n  data.forEach((element, i) => {\r\n    drawCard(element, i)\r\n  });\r\n}\r\n\r\nfunction drawCartCard(el, i){\r\n  let card = document.createElement(\"div\");\r\n  let pic = document.createElement(\"img\");\r\n  let price = document.createElement(\"h4\");\r\n  let removeBtn = document.createElement(\"button\");  \r\n  card.className = \"cart-card\"\r\n  price.innerText = el.price\r\n  pic.src = el.image_link \r\n  removeBtn.innerText = \"Remove\"\r\n  removeBtn.type = \"submit\"\r\n  removeBtn.addEventListener(\"click\", () =>{  \r\n    removeFromCart(el.id)\r\n  })\r\n  document.querySelector(\"#cart-items\").appendChild(card)\r\n  document.querySelector(`#cart-items > div:nth-child(${i+1})`).appendChild(pic)\r\n  document.querySelector(`#cart-items > div:nth-child(${i+1})`).appendChild(price)\r\n  document.querySelector(`#cart-items > div:nth-child(${i+1})`).appendChild(removeBtn)\r\n}\r\n\r\nfunction drawCartCards(){\r\n  cartItems.forEach((el, i) => {\r\n    drawCartCard(el, i)\r\n  });\r\n}\r\n\r\nfunction renderError(){\r\n  console.log(\"Error\")\r\n}\r\n\r\nfunction render(){\r\n  document.querySelector(\"#app\").innerHTML = null\r\n  if(loading){\r\n    spinner()\r\n  }\r\n  if(data){\r\n    drawCards()\r\n  }\r\n  if(error){\r\n    renderError()\r\n  }\r\n}\r\n\r\ngetData()\r\ngetFromLocalStorage()\r\n\r\n\r\n// 'http://makeup-api.herokuapp.com/'"]}